<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nezu App - IPA „ÉÄ„Ç¶„É≥„É≠„Éº„Éâ</title>
    <meta
      name="description"
      content="Nezu App „ÅÆÊúÄÊñ∞ IPA „Éï„Ç°„Ç§„É´„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„ÄÇiOS 26 Liquid Glass „Éá„Ç∂„Ç§„É≥„ÇíÊé°Áî®„Åó„ÅüÊ¨°‰∏ñ‰ª£„É¢„Éê„Ç§„É´„Ç¢„Éó„É™„ÄÇ"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <style>
      *,
      *::before,
      *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      :root {
        --bg-primary: #0a0a0f;
        --bg-secondary: #12121a;
        --bg-card: rgba(255, 255, 255, 0.04);
        --bg-card-hover: rgba(255, 255, 255, 0.07);
        --border-glass: rgba(255, 255, 255, 0.08);
        --border-glass-hover: rgba(255, 255, 255, 0.15);
        --text-primary: #f0f0f5;
        --text-secondary: #9a9ab0;
        --text-muted: #5e5e76;
        --accent-blue: #4f8cff;
        --accent-purple: #a78bfa;
        --accent-cyan: #22d3ee;
        --accent-green: #34d399;
        --accent-orange: #fb923c;
        --accent-pink: #f472b6;
        --gradient-primary: linear-gradient(
          135deg,
          #4f8cff 0%,
          #a78bfa 50%,
          #f472b6 100%
        );
        --gradient-card: linear-gradient(
          135deg,
          rgba(79, 140, 255, 0.08) 0%,
          rgba(167, 139, 250, 0.04) 100%
        );
        --radius-sm: 8px;
        --radius-md: 14px;
        --radius-lg: 20px;
        --radius-xl: 28px;
        --shadow-glow: 0 0 60px rgba(79, 140, 255, 0.12);
      }

      body {
        font-family:
          "Inter",
          -apple-system,
          BlinkMacSystemFont,
          sans-serif;
        background: var(--bg-primary);
        color: var(--text-primary);
        min-height: 100vh;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
      }

      /* ===== Animated Background ===== */
      .bg-effect {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        z-index: 0;
        overflow: hidden;
      }
      .bg-orb {
        position: absolute;
        border-radius: 50%;
        filter: blur(100px);
        opacity: 0.3;
        animation: orbFloat 20s ease-in-out infinite;
      }
      .bg-orb:nth-child(1) {
        width: 500px;
        height: 500px;
        background: radial-gradient(
          circle,
          rgba(79, 140, 255, 0.4),
          transparent 70%
        );
        top: -10%;
        left: -5%;
        animation-duration: 25s;
      }
      .bg-orb:nth-child(2) {
        width: 400px;
        height: 400px;
        background: radial-gradient(
          circle,
          rgba(167, 139, 250, 0.35),
          transparent 70%
        );
        top: 40%;
        right: -8%;
        animation-duration: 30s;
        animation-delay: -5s;
      }
      .bg-orb:nth-child(3) {
        width: 350px;
        height: 350px;
        background: radial-gradient(
          circle,
          rgba(244, 114, 182, 0.25),
          transparent 70%
        );
        bottom: -5%;
        left: 30%;
        animation-duration: 22s;
        animation-delay: -10s;
      }
      @keyframes orbFloat {
        0%,
        100% {
          transform: translate(0, 0) scale(1);
        }
        25% {
          transform: translate(40px, -30px) scale(1.05);
        }
        50% {
          transform: translate(-20px, 20px) scale(0.95);
        }
        75% {
          transform: translate(30px, 40px) scale(1.02);
        }
      }

      /* ===== Grid Overlay ===== */
      .grid-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        z-index: 0;
        background-image:
          linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
          linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
        background-size: 60px 60px;
      }

      /* ===== Layout ===== */
      .container {
        position: relative;
        z-index: 1;
        max-width: 960px;
        margin: 0 auto;
        padding: 0 24px;
      }

      /* ===== Header ===== */
      .header {
        padding: 60px 0 40px;
        text-align: center;
      }
      .header-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 16px;
        background: rgba(79, 140, 255, 0.1);
        border: 1px solid rgba(79, 140, 255, 0.2);
        border-radius: 100px;
        font-size: 12px;
        font-weight: 600;
        color: var(--accent-blue);
        letter-spacing: 0.5px;
        text-transform: uppercase;
        margin-bottom: 24px;
        animation: fadeInDown 0.6s ease-out;
      }
      .header-badge .dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--accent-green);
        animation: pulse-dot 2s ease-in-out infinite;
      }
      @keyframes pulse-dot {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.5;
          transform: scale(0.8);
        }
      }

      .header h1 {
        font-size: clamp(2.2rem, 5vw, 3.5rem);
        font-weight: 900;
        letter-spacing: -1.5px;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        line-height: 1.15;
        margin-bottom: 16px;
        animation: fadeInDown 0.6s ease-out 0.15s both;
      }
      .header p {
        font-size: 1.05rem;
        color: var(--text-secondary);
        max-width: 540px;
        margin: 0 auto;
        line-height: 1.7;
        animation: fadeInDown 0.6s ease-out 0.3s both;
      }

      /* ===== Stats Bar ===== */
      .stats-bar {
        display: flex;
        justify-content: center;
        gap: 32px;
        padding: 20px 0;
        margin-bottom: 40px;
        animation: fadeInUp 0.6s ease-out 0.45s both;
        flex-wrap: wrap;
      }
      .stat-item {
        text-align: center;
      }
      .stat-value {
        font-size: 1.6rem;
        font-weight: 800;
        color: var(--text-primary);
        line-height: 1;
      }
      .stat-value.loading-placeholder {
        background: linear-gradient(
          90deg,
          var(--text-muted) 25%,
          var(--text-secondary) 50%,
          var(--text-muted) 75%
        );
        background-size: 200% 100%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shimmer 1.5s ease-in-out infinite;
      }
      @keyframes shimmer {
        0% {
          background-position: 200% 0;
        }
        100% {
          background-position: -200% 0;
        }
      }
      .stat-label {
        font-size: 0.75rem;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-top: 6px;
        font-weight: 600;
      }

      /* ===== Section Title ===== */
      .section-title {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 20px;
        animation: fadeInUp 0.5s ease-out both;
      }
      .section-title h2 {
        font-size: 1.15rem;
        font-weight: 700;
        letter-spacing: -0.3px;
      }
      .section-title .count-badge {
        padding: 2px 10px;
        background: rgba(79, 140, 255, 0.12);
        border: 1px solid rgba(79, 140, 255, 0.2);
        border-radius: 100px;
        font-size: 0.72rem;
        font-weight: 700;
        color: var(--accent-blue);
      }

      /* ===== Release Card ===== */
      .releases-list {
        display: flex;
        flex-direction: column;
        gap: 16px;
        padding-bottom: 80px;
      }
      .release-card {
        background: var(--bg-card);
        border: 1px solid var(--border-glass);
        border-radius: var(--radius-lg);
        padding: 28px;
        transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        animation: fadeInUp 0.5s ease-out both;
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
      }
      .release-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        opacity: 0;
        transition: opacity 0.35s;
      }
      .release-card:hover {
        background: var(--bg-card-hover);
        border-color: var(--border-glass-hover);
        transform: translateY(-2px);
        box-shadow: var(--shadow-glow);
      }
      .release-card:hover::before {
        opacity: 1;
      }
      .release-card.latest {
        border-color: rgba(79, 140, 255, 0.25);
        background: linear-gradient(
          135deg,
          rgba(79, 140, 255, 0.06) 0%,
          rgba(167, 139, 250, 0.03) 100%
        );
      }
      .release-card.latest::after {
        content: "";
        position: absolute;
        top: -1px;
        left: -1px;
        right: -1px;
        bottom: -1px;
        border-radius: var(--radius-lg);
        background: linear-gradient(
          135deg,
          rgba(79, 140, 255, 0.15),
          rgba(167, 139, 250, 0.1),
          rgba(244, 114, 182, 0.1)
        );
        z-index: -1;
        opacity: 0;
        transition: opacity 0.35s;
      }
      .release-card.latest:hover::after {
        opacity: 1;
      }

      .release-header {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 16px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }
      .release-info {
        flex: 1;
        min-width: 200px;
      }
      .release-name-row {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 6px;
        flex-wrap: wrap;
      }
      .release-tag {
        font-size: 1.15rem;
        font-weight: 700;
        color: var(--text-primary);
        letter-spacing: -0.3px;
      }
      .release-label {
        padding: 2px 10px;
        border-radius: 100px;
        font-size: 0.65rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.8px;
      }
      .label-latest {
        background: linear-gradient(
          135deg,
          rgba(52, 211, 153, 0.2),
          rgba(34, 211, 238, 0.15)
        );
        color: var(--accent-green);
        border: 1px solid rgba(52, 211, 153, 0.3);
      }
      .label-prerelease {
        background: rgba(251, 146, 60, 0.12);
        color: var(--accent-orange);
        border: 1px solid rgba(251, 146, 60, 0.25);
      }
      .label-stable {
        background: rgba(79, 140, 255, 0.12);
        color: var(--accent-blue);
        border: 1px solid rgba(79, 140, 255, 0.25);
      }

      .release-date {
        font-size: 0.82rem;
        color: var(--text-secondary);
      }
      .release-date time {
        color: var(--text-primary);
        font-weight: 500;
      }

      .download-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 24px;
        background: var(--gradient-primary);
        color: #fff;
        border: none;
        border-radius: var(--radius-md);
        font-size: 0.85rem;
        font-weight: 700;
        cursor: pointer;
        text-decoration: none;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        font-family: inherit;
        letter-spacing: 0.2px;
        white-space: nowrap;
      }
      .download-btn:hover {
        transform: translateY(-1px) scale(1.02);
        box-shadow: 0 8px 30px rgba(79, 140, 255, 0.35);
      }
      .download-btn:active {
        transform: translateY(0) scale(0.98);
      }
      .download-btn svg {
        width: 16px;
        height: 16px;
      }

      /* ===== Meta Grid ===== */
      .meta-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 12px;
      }
      .meta-item {
        display: flex;
        flex-direction: column;
        gap: 4px;
        padding: 12px 16px;
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid rgba(255, 255, 255, 0.04);
        border-radius: var(--radius-sm);
        transition: background 0.2s;
      }
      .meta-item:hover {
        background: rgba(255, 255, 255, 0.04);
      }
      .meta-label {
        font-size: 0.68rem;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.8px;
        font-weight: 600;
      }
      .meta-value {
        font-size: 0.85rem;
        color: var(--text-primary);
        font-weight: 500;
        word-break: break-all;
      }
      .meta-value.mono {
        font-family: "SF Mono", "Fira Code", "Cascadia Code", monospace;
        font-size: 0.78rem;
        color: var(--accent-cyan);
      }

      /* ===== Expandable Details ===== */
      .details-toggle {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 8px 0;
        margin-top: 12px;
        background: none;
        border: none;
        color: var(--text-secondary);
        font-size: 0.8rem;
        font-weight: 500;
        cursor: pointer;
        font-family: inherit;
        transition: color 0.2s;
      }
      .details-toggle:hover {
        color: var(--accent-blue);
      }
      .details-toggle svg {
        width: 14px;
        height: 14px;
        transition: transform 0.3s;
      }
      .details-toggle.expanded svg {
        transform: rotate(180deg);
      }

      .details-content {
        max-height: 0;
        overflow: hidden;
        transition:
          max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),
          opacity 0.3s;
        opacity: 0;
      }
      .details-content.show {
        max-height: 600px;
        opacity: 1;
      }
      .sha-row {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-top: 12px;
        padding: 10px 14px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: var(--radius-sm);
        border: 1px solid rgba(255, 255, 255, 0.04);
      }
      .sha-label {
        font-size: 0.68rem;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.8px;
        font-weight: 600;
        white-space: nowrap;
      }
      .sha-value {
        font-family: "SF Mono", "Fira Code", "Cascadia Code", monospace;
        font-size: 0.72rem;
        color: var(--accent-cyan);
        word-break: break-all;
        flex: 1;
      }
      .copy-btn {
        background: none;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 6px;
        padding: 4px 8px;
        cursor: pointer;
        color: var(--text-secondary);
        font-size: 0.68rem;
        font-weight: 600;
        transition: all 0.2s;
        font-family: inherit;
        white-space: nowrap;
      }
      .copy-btn:hover {
        background: rgba(255, 255, 255, 0.06);
        color: var(--text-primary);
      }
      .copy-btn.copied {
        color: var(--accent-green);
        border-color: rgba(52, 211, 153, 0.3);
      }

      .commit-list {
        margin-top: 12px;
      }
      .commit-list h4 {
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.8px;
        margin-bottom: 8px;
      }
      .commit-item {
        display: flex;
        align-items: baseline;
        gap: 10px;
        padding: 6px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.03);
        font-size: 0.8rem;
      }
      .commit-item:last-child {
        border-bottom: none;
      }
      .commit-hash {
        font-family: "SF Mono", "Fira Code", monospace;
        font-size: 0.72rem;
        color: var(--accent-purple);
        font-weight: 500;
        white-space: nowrap;
      }
      .commit-msg {
        color: var(--text-secondary);
        flex: 1;
      }

      /* ===== Loading State ===== */
      .loading-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 100px 0;
        gap: 20px;
      }
      .spinner {
        width: 40px;
        height: 40px;
        border: 3px solid rgba(79, 140, 255, 0.15);
        border-top-color: var(--accent-blue);
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
      .loading-text {
        font-size: 0.9rem;
        color: var(--text-secondary);
      }

      /* ===== Error State ===== */
      .error-container {
        text-align: center;
        padding: 80px 0;
      }
      .error-icon {
        font-size: 3rem;
        margin-bottom: 16px;
      }
      .error-title {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 8px;
      }
      .error-msg {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin-bottom: 24px;
      }
      .retry-btn {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 10px 20px;
        background: rgba(79, 140, 255, 0.12);
        border: 1px solid rgba(79, 140, 255, 0.25);
        color: var(--accent-blue);
        border-radius: var(--radius-md);
        cursor: pointer;
        font-size: 0.85rem;
        font-weight: 600;
        font-family: inherit;
        transition: all 0.2s;
      }
      .retry-btn:hover {
        background: rgba(79, 140, 255, 0.2);
      }

      /* ===== Footer ===== */
      .footer {
        padding: 40px 0;
        text-align: center;
        border-top: 1px solid var(--border-glass);
      }
      .footer-links {
        display: flex;
        justify-content: center;
        gap: 24px;
        margin-bottom: 16px;
        flex-wrap: wrap;
      }
      .footer-links a {
        color: var(--text-secondary);
        text-decoration: none;
        font-size: 0.82rem;
        font-weight: 500;
        transition: color 0.2s;
      }
      .footer-links a:hover {
        color: var(--accent-blue);
      }
      .footer p {
        font-size: 0.75rem;
        color: var(--text-muted);
      }

      /* ===== Animations ===== */
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-16px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(16px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* ===== Responsive ===== */
      @media (max-width: 640px) {
        .container {
          padding: 0 16px;
        }
        .header {
          padding: 40px 0 24px;
        }
        .stats-bar {
          gap: 20px;
        }
        .release-card {
          padding: 20px;
        }
        .release-header {
          flex-direction: column;
        }
        .meta-grid {
          grid-template-columns: 1fr 1fr;
        }
        .sha-row {
          flex-wrap: wrap;
        }
      }
    </style>
  </head>
  <body>
    <div class="bg-effect">
      <div class="bg-orb"></div>
      <div class="bg-orb"></div>
      <div class="bg-orb"></div>
    </div>
    <div class="grid-overlay"></div>

    <div class="container">
      <!-- Header -->
      <header class="header">
        <div class="header-badge">
          <span class="dot"></span>
          Open Source iOS App
        </div>
        <h1>Nezu App</h1>
        <p>
          iOS 26 Liquid Glass „Éá„Ç∂„Ç§„É≥„ÇíÊé°Áî®„Åó„ÅüÊ¨°‰∏ñ‰ª£„É¢„Éê„Ç§„É´„Ç¢„Éó„É™„ÄÇ<br />ÁΩ≤ÂêçÁÑ°„Åó
          IPA „Çí GitHub Actions „ÅßËá™Âãï„Éì„É´„Éâ„ÄÇ
        </p>
      </header>

      <!-- Stats Bar -->
      <div class="stats-bar">
        <div class="stat-item">
          <div class="stat-value loading-placeholder" id="stat-releases">
            --
          </div>
          <div class="stat-label">Releases</div>
        </div>
        <div class="stat-item">
          <div class="stat-value loading-placeholder" id="stat-downloads">
            --
          </div>
          <div class="stat-label">Downloads</div>
        </div>
        <div class="stat-item">
          <div class="stat-value loading-placeholder" id="stat-latest">--</div>
          <div class="stat-label">ÊúÄÊñ∞ Build</div>
        </div>
      </div>

      <!-- Releases Section -->
      <div class="section-title">
        <h2>üì¶ „É™„É™„Éº„Çπ‰∏ÄË¶ß</h2>
        <span class="count-badge" id="release-count">...</span>
      </div>

      <div id="releases-container">
        <div class="loading-container">
          <div class="spinner"></div>
          <div class="loading-text">„É™„É™„Éº„ÇπÊÉÖÂ†±„ÇíÂèñÂæó‰∏≠...</div>
        </div>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <div class="footer-links">
          <a
            href="https://github.com/nezumi0627/nezu-app"
            target="_blank"
            rel="noopener"
            >GitHub „É™„Éù„Ç∏„Éà„É™</a
          >
          <a
            href="https://github.com/nezumi0627/nezu-app/actions"
            target="_blank"
            rel="noopener"
            >CI/CD „Éë„Ç§„Éó„É©„Ç§„É≥</a
          >
          <a
            href="https://github.com/nezumi0627/nezu-app/issues"
            target="_blank"
            rel="noopener"
            >Issue Tracker</a
          >
        </div>
        <p>&copy; 2025 nezumi0627. Built with GitHub Actions.</p>
      </footer>
    </div>

    <script>
      const GITHUB_API =
        "https://api.github.com/repos/nezumi0627/nezu-app/releases";

      // ===== Utility Functions =====
      function formatBytes(bytes) {
        if (bytes === 0) return "0 B";
        const units = ["B", "KB", "MB", "GB"];
        const i = Math.floor(Math.log(bytes) / Math.log(1024));
        return `${(bytes / Math.pow(1024, i)).toFixed(i === 0 ? 0 : 1)} ${units[i]}`;
      }

      function formatDate(isoString) {
        const d = new Date(isoString);
        const year = d.getFullYear();
        const month = String(d.getMonth() + 1).padStart(2, "0");
        const day = String(d.getDate()).padStart(2, "0");
        const hours = String(d.getHours()).padStart(2, "0");
        const mins = String(d.getMinutes()).padStart(2, "0");
        return `${year}/${month}/${day} ${hours}:${mins}`;
      }

      function timeAgo(isoString) {
        const now = new Date();
        const then = new Date(isoString);
        const diffMs = now - then;
        const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
        if (diffDays === 0) return "‰ªäÊó•";
        if (diffDays === 1) return "Êò®Êó•";
        if (diffDays < 7) return `${diffDays}Êó•Ââç`;
        if (diffDays < 30) return `${Math.floor(diffDays / 7)}ÈÄ±ÈñìÂâç`;
        if (diffDays < 365) return `${Math.floor(diffDays / 30)}„É∂ÊúàÂâç`;
        return `${Math.floor(diffDays / 365)}Âπ¥Ââç`;
      }

      function extractBuildNumber(tagName) {
        const match = tagName.match(/build-(\d+)/);
        return match ? `#${match[1]}` : tagName;
      }

      function extractVersion(release) {
        // tag_name „Åã„Çâ„Éê„Éº„Ç∏„Éß„É≥ÊÉÖÂ†±„ÇíÊäΩÂá∫
        const tag = release.tag_name;
        if (tag.startsWith("v")) return tag.substring(1);
        const buildMatch = tag.match(/build-(\d+)/);
        if (buildMatch) return `1.0.0 (Build ${buildMatch[1]})`;
        return tag;
      }

      function extractCommits(body) {
        if (!body) return [];
        const lines = body.split("\n");
        const commits = [];
        for (const line of lines) {
          const match = line.match(
            /^\s*-\s*`([a-f0-9]{7})`\s+\d{4}-\d{2}-\d{2}\s+\*\*.*?\*\*:\s*(.*)/,
          );
          if (match) {
            commits.push({ hash: match[1], message: match[2].trim() });
          }
        }
        return commits;
      }

      function extractSHA256(body) {
        if (!body) return null;
        const match = body.match(/SHA256[`:\s]*`([a-f0-9]{64})`/i);
        return match ? match[1] : null;
      }

      function extractBuildDuration(body) {
        if (!body) return null;
        const match = body.match(/Build Duration.*?(\d{2}:\d{2}:\d{2})/);
        return match ? match[1] : null;
      }

      function extractBuildEnv(body) {
        if (!body) return {};
        const env = {};
        const xcodeMatch = body.match(/Xcode Version\*\*:\s*(.+?)[\r\n]/);
        if (xcodeMatch) env.xcode = xcodeMatch[1].replace(/`/g, "").trim();
        const sdkMatch = body.match(/iOS SDK Version\*\*:\s*(.+?)[\r\n]/);
        if (sdkMatch) env.sdk = sdkMatch[1].replace(/`/g, "").trim();
        const swiftMatch = body.match(/Swift Version\*\*:\s*(.+?)[\r\n]/);
        if (swiftMatch) env.swift = swiftMatch[1].replace(/`/g, "").trim();
        const runnerMatch = body.match(/Runner OS\*\*:\s*(.+?)[\r\n]/);
        if (runnerMatch)
          env.runner = runnerMatch[1]
            .replace(/`/g, "")
            .replace(/\*\*/g, "")
            .trim();
        return env;
      }

      // ===== Copy to clipboard =====
      function copyToClipboard(text, btnEl) {
        navigator.clipboard
          .writeText(text)
          .then(() => {
            btnEl.classList.add("copied");
            btnEl.textContent = "„Ç≥„Éî„ÉºÊ∏à„Åø";
            setTimeout(() => {
              btnEl.classList.remove("copied");
              btnEl.textContent = "„Ç≥„Éî„Éº";
            }, 2000);
          })
          .catch(() => {
            // fallback
            const ta = document.createElement("textarea");
            ta.value = text;
            document.body.appendChild(ta);
            ta.select();
            document.execCommand("copy");
            document.body.removeChild(ta);
            btnEl.classList.add("copied");
            btnEl.textContent = "„Ç≥„Éî„ÉºÊ∏à„Åø";
            setTimeout(() => {
              btnEl.classList.remove("copied");
              btnEl.textContent = "„Ç≥„Éî„Éº";
            }, 2000);
          });
      }

      // ===== Toggle Details =====
      function toggleDetails(cardId) {
        const content = document.getElementById(`details-${cardId}`);
        const btn = document.getElementById(`toggle-${cardId}`);
        if (content.classList.contains("show")) {
          content.classList.remove("show");
          btn.classList.remove("expanded");
        } else {
          content.classList.add("show");
          btn.classList.add("expanded");
        }
      }

      // ===== Render Releases =====
      function renderReleases(releases) {
        const container = document.getElementById("releases-container");

        // Filter to only published (non-draft) releases with IPA assets
        const published = releases.filter(
          (r) => !r.draft && r.assets.some((a) => a.name.endsWith(".ipa")),
        );

        // Sort by published_at descending
        published.sort(
          (a, b) => new Date(b.published_at) - new Date(a.published_at),
        );

        // Update stats
        const totalDownloads = published.reduce((sum, r) => {
          return sum + r.assets.reduce((s, a) => s + a.download_count, 0);
        }, 0);

        const statReleases = document.getElementById("stat-releases");
        const statDownloads = document.getElementById("stat-downloads");
        const statLatest = document.getElementById("stat-latest");
        statReleases.textContent = published.length;
        statReleases.classList.remove("loading-placeholder");
        statDownloads.textContent = totalDownloads;
        statDownloads.classList.remove("loading-placeholder");
        if (published.length > 0) {
          statLatest.textContent = extractBuildNumber(published[0].tag_name);
        }
        statLatest.classList.remove("loading-placeholder");

        document.getElementById("release-count").textContent =
          `${published.length} ‰ª∂`;

        if (published.length === 0) {
          container.innerHTML = `
            <div class="error-container">
                <div class="error-icon">üì≠</div>
                <div class="error-title">„É™„É™„Éº„Çπ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì</div>
                <div class="error-msg">„Åæ„Å† IPA „Éï„Ç°„Ç§„É´„ÅÆ„É™„É™„Éº„Çπ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</div>
            </div>`;
          return;
        }

        let html = '<div class="releases-list">';

        published.forEach((release, index) => {
          const ipaAsset = release.assets.find((a) => a.name.endsWith(".ipa"));
          if (!ipaAsset) return;

          const isLatest = index === 0;
          const version = extractVersion(release);
          const sha256 = extractSHA256(release.body);
          const buildDuration = extractBuildDuration(release.body);
          const commits = extractCommits(release.body);
          const buildEnv = extractBuildEnv(release.body);
          const cardId = `release-${index}`;

          html += `
        <div class="release-card ${isLatest ? "latest" : ""}" style="animation-delay: ${index * 0.08}s">
            <div class="release-header">
                <div class="release-info">
                    <div class="release-name-row">
                        <span class="release-tag">${version}</span>
                        ${isLatest ? '<span class="release-label label-latest">ÊúÄÊñ∞</span>' : ""}
                        ${release.prerelease ? '<span class="release-label label-prerelease">Pre-Release</span>' : !isLatest ? '<span class="release-label label-stable">Stable</span>' : ""}
                    </div>
                    <div class="release-date">
                        ÂÖ¨ÈñãÊó•: <time>${formatDate(release.published_at)}</time>
                        <span style="color: var(--text-muted); margin-left: 6px">(${timeAgo(release.published_at)})</span>
                    </div>
                </div>
                <a class="download-btn" href="${ipaAsset.browser_download_url}" id="download-btn-${index}">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                    IPA „Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
                </a>
            </div>

            <div class="meta-grid">
                <div class="meta-item">
                    <span class="meta-label">„Éï„Ç°„Ç§„É´Âêç</span>
                    <span class="meta-value mono">${ipaAsset.name}</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">„Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫</span>
                    <span class="meta-value">${formatBytes(ipaAsset.size)}</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÊï∞</span>
                    <span class="meta-value">${ipaAsset.download_count} Âõû</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">„Çø„Ç∞</span>
                    <span class="meta-value mono">${release.tag_name}</span>
                </div>
                ${
                  buildDuration
                    ? `
                <div class="meta-item">
                    <span class="meta-label">„Éì„É´„ÉâÊôÇÈñì</span>
                    <span class="meta-value">${buildDuration}</span>
                </div>`
                    : ""
                }
                <div class="meta-item">
                    <span class="meta-label">„Ç≥„Éü„ÉÉ„Éà</span>
                    <span class="meta-value mono">${release.target_commitish === "main" ? "main @ " : ""}${ipaAsset.name.match(/([a-f0-9]{7})\.ipa/)?.[1] || "?"}</span>
                </div>
            </div>

            <button class="details-toggle" id="toggle-${cardId}" onclick="toggleDetails('${cardId}')">
                Ë©≥Á¥∞„ÇíË°®Á§∫
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>
            </button>

            <div class="details-content" id="details-${cardId}">
                ${
                  sha256
                    ? `
                <div class="sha-row">
                    <span class="sha-label">SHA256</span>
                    <span class="sha-value" id="sha-${cardId}">${sha256}</span>
                    <button class="copy-btn" onclick="copyToClipboard('${sha256}', this)">„Ç≥„Éî„Éº</button>
                </div>`
                    : ""
                }

                ${
                  Object.keys(buildEnv).length > 0
                    ? `
                <div class="meta-grid" style="margin-top: 12px;">
                    ${buildEnv.xcode ? `<div class="meta-item"><span class="meta-label">Xcode</span><span class="meta-value">${buildEnv.xcode}</span></div>` : ""}
                    ${buildEnv.sdk ? `<div class="meta-item"><span class="meta-label">iOS SDK</span><span class="meta-value">${buildEnv.sdk}</span></div>` : ""}
                    ${buildEnv.swift ? `<div class="meta-item"><span class="meta-label">Swift</span><span class="meta-value">${buildEnv.swift}</span></div>` : ""}
                    ${buildEnv.runner ? `<div class="meta-item"><span class="meta-label">Runner</span><span class="meta-value">${buildEnv.runner}</span></div>` : ""}
                </div>`
                    : ""
                }

                ${
                  commits.length > 0
                    ? `
                <div class="commit-list">
                    <h4>Âê´„Åæ„Çå„Çã„Ç≥„Éü„ÉÉ„Éà</h4>
                    ${commits
                      .slice(0, 5)
                      .map(
                        (c) => `
                        <div class="commit-item">
                            <span class="commit-hash">${c.hash}</span>
                            <span class="commit-msg">${c.message}</span>
                        </div>
                    `,
                      )
                      .join("")}
                    ${commits.length > 5 ? `<div class="commit-item" style="color: var(--text-muted); font-size: 0.75rem;">‰ªñ ${commits.length - 5} ‰ª∂„ÅÆ„Ç≥„Éü„ÉÉ„Éà</div>` : ""}
                </div>`
                    : ""
                }
            </div>
        </div>`;
        });

        html += "</div>";
        container.innerHTML = html;
      }

      // ===== Error Rendering =====
      function renderError(message) {
        const container = document.getElementById("releases-container");
        container.innerHTML = `
        <div class="error-container">
            <div class="error-icon">‚ö†Ô∏è</div>
            <div class="error-title">„Éá„Éº„Çø„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü</div>
            <div class="error-msg">${message}</div>
            <button class="retry-btn" onclick="fetchReleases()">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 11-2.12-9.36L23 10"/></svg>
                ÂÜçË©¶Ë°å
            </button>
        </div>`;
      }

      // ===== Fetch Releases =====
      async function fetchReleases() {
        const container = document.getElementById("releases-container");
        container.innerHTML = `
        <div class="loading-container">
            <div class="spinner"></div>
            <div class="loading-text">„É™„É™„Éº„ÇπÊÉÖÂ†±„ÇíÂèñÂæó‰∏≠...</div>
        </div>`;

        try {
          const response = await fetch(GITHUB_API, {
            headers: { Accept: "application/vnd.github.v3+json" },
          });
          if (!response.ok) {
            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
          }
          const data = await response.json();
          renderReleases(data);
        } catch (error) {
          console.error("Failed to fetch releases:", error);
          renderError(error.message || "„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ");
        }
      }

      // ===== Init =====
      document.addEventListener("DOMContentLoaded", fetchReleases);
    </script>
  </body>
</html>
